{
  "hash": "b3a8a517bec38dd450d0db044dbd770f",
  "result": {
    "markdown": "---\ntitle: \"Publishing reproducible websites with Quarto\"\nsubtitle: \"Lecture 13\"\ndate: \"March 9, 2023\"\nformat: revealjs\n---\n\n\n\n\n# Announcements\n\n## Announcements\n\n- No lab tomorrow\n- Working on project \\#1 grades\n\n# Websites using Quarto\n\n## Websites\n\n-   Websites are essentially `format: html` + a Quarto Project\n\n. . .\n\n-   Website is different than `format: html` in that it has *multiple pages*\n-   Website is our first exploration into Quarto Projects\n    - Similar to R Projects, but for Quarto!\n\n## Why not WordPress, Tumblr, Medium.com, Blogger.com, etc?[^1]\n\n[^1]: From Yihui: <https://slides.yihui.name/2017-rmarkdown-UNL-Yihui-Xie.html#36>\n\n-   No Quarto support (even math support is often nonexistent or awkward)\n\n-   Huge benefits of static websites compared to dynamic websites\n\n-   all static files, no PHP or databases, no login/password, work everywhere (even offline)\n\n-   typically fast to visit (no computation needed on the server side), and easy to speed up via CDN\n\n## RStudio \\> New Project \\> New Quarto Blog\n\n![](images/13/quarto-blog.png){fig-align=\"center\" width=800}\n\n## Navigation & Structure\n\n| File                  | Description                |\n|:----------------------|:---------------------------|\n| `_quarto.yml`         | Quarto project file.       |\n| `index.qmd`           | Blog home page.            |\n| `about.qmd`           | Blog about page.           |\n| `posts/`              | Directory containing posts |\n| `posts/_metadata.yml` | Shared options for `posts` |\n| `styles.css`          | Custom CSS for website     |\n\n## Create a blog\n\n-   A blog is a website with specific \"opinions\" already made\n-   Includes a listing automatically from `posts` directory\n-   Can build custom listings in several ways\n\n## \n\n![](https://quarto.org/docs/websites/images/myblog.png){fig-align=\"center\"}\n\n## Core blog workflow\n\n-   Create a new folder under `/posts` - this folder will be the \"slug\" URL (like `bensoltoff.com/2023-03-09-new-post/`)\n-   Create a new `index.qmd` within the new folder\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Your Turn\n\n-   Create a new RStudio project (in a separate RStudio session) and select Quarto blog\n-   Give it a name\n-   Explore the directory\n\n## Rendering posts\n\n-   On a specific post, Render with RStudio \\> Render\n-   Build tab \\> Render/Preview Website\n\nThese will preview the entire website\n\n. . .\n\nWhen you render the website, it will re-execute code in older posts. Not ideal in many situations!\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Your Turn\n\n-   Let's render the `index.qmd` together!\n-   Now, let's try Build \\> Render Website\n\n## Freeze\n\n> You can use the freeze option to denote that computational documents should never be re-rendered during a global project render, or alternatively only be re-rendered when their source file changes\n\n. . .\n\n``` yaml\nexecute:\n  freeze: true  # never re-render during project render\n```\n\n``` yaml\nexecute:\n  freeze: auto  # re-render only when source changes\n```\n\n. . .\n\n`freeze: true` is typically added to a `_metadata.yml` file within a specific directory, affecting all files in that directory.\n\nIn the case of a blog - the `_metadata.yml` is saved at the root of the `posts` directory. You can have it only within specific subdirectories for more complex sites.\n\n## Cache\n\nCache on the other hand, stores the results of computations for a specific file.\n\n> Note that cache invalidation is triggered by changes in chunk source code (or other cache attributes you've defined).\n\n``` yaml\nexecute:\n  cache: true\n```\n\n. . .\n\nI typically use cache throughout various types of outputs when I have computationally expensive chunks.\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Your Turn\n\n-   Render `index.qmd` in the project directory and note the items that are built\n\n-   Explore the `_freeze` directory\n\n. . .\n\n-   Marvel at the \"beautiful\" JSON - it's not for you, it's for the machine\n\n## Themes\n\n<https://quarto.org/docs/websites/website-blog.html#themes>\n\n[default](https://bootswatch.com/default/), [cerulean](https://bootswatch.com/cerulean/), [cosmo](https://bootswatch.com/cosmo/), [cyborg](https://bootswatch.com/cyborg/), [darkly](https://bootswatch.com/darkly/), [flatly](https://bootswatch.com/flatly/), [journal](https://bootswatch.com/journal/), [litera](https://bootswatch.com/litera/), [lumen](https://bootswatch.com/lumen/), [lux](https://bootswatch.com/lux/), [materia](https://bootswatch.com/materia/), [minty](https://bootswatch.com/minty/), [morph](https://bootswatch.com/morph/), [pulse](https://bootswatch.com/pulse/), [quartz](https://bootswatch.com/quartz/), [sandstone](https://bootswatch.com/sandstone/), [simplex](https://bootswatch.com/simplex/), [sketchy](https://bootswatch.com/sketchy/), [slate](https://bootswatch.com/slate/), [solar](https://bootswatch.com/solar/), [spacelab](https://bootswatch.com/spacelab/), [superhero](https://bootswatch.com/superhero/), [united](https://bootswatch.com/united/), [vapor](https://bootswatch.com/vapor/), [yeti](https://bootswatch.com/yeti/), [zephyr](https://bootswatch.com/zephyr/)\n\n. . .\n\nTo change theme, modify the bottom of your website's `_quarto.yml`\n\n``` yaml\nformat:\n  html:\n    theme: cosmo\n```\n\n## Themes\n\n::: {.r-stack}\n\n![](https://quarto.org/docs/websites/images/theme-litera.png){.fragment}\n\n![](https://quarto.org/docs/websites/images/theme-solar.png){.fragment}\n\n![](https://quarto.org/docs/websites/images/theme-morph.png){.fragment}\n\n:::\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Your Turn\n\n-   Open `_quarto.yml` and change the theme to one of the support Bootswatch themes\n-   Create a new folder in `/posts/` - title it `2023-03-09-my-first-post`\n-   Create a new blank `index.qmd` in that folder, add a `format: html` YAML header\n-   Add some text and a markdown image: `![]()`, along with maybe some code\n-   Render it!\n\n## Adding an About page\n\n``` yaml\ntwitter-card:\n  image: images/profile-preview.png\n  creator: \"@soltoffbc\"\nopen-graph: true\ntitle: \"Benjamin Soltoff\"\nimage: images/profile-preview.png\nabout:\n  template: trestles\n  links:\n    - icon: twitter\n      text: Twitter\n      href: https://twitter.com/soltoffbc\n    - icon: github\n      text: Github\n      href: https://github.com/bensoltoff\n```\n\n## About page templates\n\n``` yaml\nabout:\n  template: trestles\n```\n\n::: panel-tabset\n## jolla\n\n![](https://quarto.org/docs/websites/images/about-jolla.png){fig-align=\"center\"}\n\n## trestles\n\n![](https://quarto.org/docs/websites/images/about-trestles.png){fig-align=\"center\"}\n\n## solana\n\n![](https://quarto.org/docs/websites/images/about-solana.png){fig-align=\"center\"}\n\n## marquee\n\n![](https://quarto.org/docs/websites/images/about-marquee.png){fig-align=\"center\"}\n\n## broadside\n\n![](https://quarto.org/docs/websites/images/about-broadside.png){fig-align=\"center\"}\n\n:::\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Your Turn\n\n-   Open your about page (`about.qmd`)\n-   Change some of the details, add more details and choose a specific template (jolla, trestles, solana, marquee, broadside)\n-   Render it!\n\n## Landing page\n\n-   The landing page for your website defaults to the blog/listings page\n-   `your-proj/index.qmd` becomes your \"home page\"\n\n. . .\n\n-  If you want your \"About Me\" page to be the landing page, rename your `index.qmd` -\\> `blog.qmd` and `about.qmd` -\\> `index.qmd`\n\n. . .\n\n-   Re-structuring your website also requires modifying your `_quarto.yml`\n\n``` yaml\nwebsite:\n  title: \"My blog name\"\n  site-url: \"https://MyBlogSiteUrl.com\"\n  navbar:\n    right:\n     - blog.qmd\n     - icon: twitter\n       href: \"https://twitter.com/my_user_name\"\n```\n\nExample: <https://www.ericekholm.com/posts/demo-quarto-site/>\n\n## Listings\n\n![](https://quarto.org/docs/websites/images/myblog.png){.r-stretch fig-align=\"center\"}\n\n## Listings\n\n|  Type   | Description                 |\n|:-------:|:----------------------------|\n| default | A blog style list of items. |\n|  table  | A table of listings.        |\n|  grid   | A grid of listing cards.    |\n\n## Listings\n\n::: panel-tabset\n## Default\n\n> By default, listings will appear in full width rows that display the item's metadata (author and date), title, description, and image.\n\n<img src=\"https://quarto.org/docs/websites/images/listing-default.png\" height=\"400px\"/>\n\n## Grid\n\n> Grid style listings display a card for each item.\n\n<img src=\"https://quarto.org/docs/websites/images/listing-grid.png\" height=\"400px\"/>\n\n## Table\n\n> The table listing style provides a traditional tabular layout.\n\n<img src=\"https://quarto.org/docs/websites/images/listing-table.png\" height=\"400px\"/>\n:::\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Your Turn\n\n-   Open your existing Quarto blog from before\n-   Let's change the listing type of our blog - change from default to `grid`\n-   Re-render the `index.qmd`\n\n## Publishing\n\n| Destination                                                                | Description                                                                                                                                                                                     |\n|----------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| [GitHub Pages](https://quarto.org/docs/publishing/github-pages.html)       | Publish content based on source code managed within a GitHub repository. Use GitHub Pages when the source code for your document or site is hosted on GitHub.                                   |\n| [RStudio Connect](https://quarto.org/docs/publishing/rstudio-connect.html) | Publishing platform for secure sharing of data products within an organization. Use RStudio Connect when you want to publish content within an organization rather than on the public internet. |\n| [Netlify](https://quarto.org/docs/publishing/netlify.html)                 | Professional web publishing platform. Use Netlify when you want support for custom domains, authentication, previewing branches, and other more advanced capabilities.                          |\n| [Other Services](https://quarto.org/docs/publishing/other.html)            | Content rendered with Quarto uses standard formats (HTML, PDFs, MS Word, etc.) that can be published anywhere. Use this if one of the methods above don't meet your requirements.               |\n\n## Publishing\n\n### Static Only\n\n-   `quarto` R package: `quarto::quarto_publish_???()`\n\n### Code\n\n-   Evaluate R/Python code and render on a schedule\n\n-   RStudio Connect\n\n-   `rsconnect::deployDoc(quarto = \"path/to/quarto\")`\n\n    -   `rsconnect::deployDoc(quarto = quarto::quarto_path())`\n\n## Static Publish\n\n-   `quarto::quarto_publish_???()`\n\n    -   `quarto_publish_site(server = \"rstudioconnect.example.com\")`\n    -   `quarto_publish_doc(server = \"rpubs.com\")`\n    -   `quarto_publish_app(server = \"shinyapps.io\")`\n\n## Netlify\n\n-   Cheat code: Netlify drop\n\n<iframe src=\"https://www.netlify.com/\" height=\"600\" width=\"1200\">\n\n</iframe>\n\n## GitHub Pages\n\n-   Render contents locally with the \"Build Website\" button\n-   Stage/commit/push the rendered files to GitHub -- site built automatically\n\n## Websites\n\nSimilar to blog, but less of a focus on listing/posts and more focus on individual pages and overall navigation.\n\n## Quarto Project\n\n-   <https://quarto.org/docs/projects/quarto-projects.html>\n\n> When you create a project, a \\_quarto.yml config file is created. Here is an example of what the \\_quarto.yml looks like:\n\n``` yaml\nproject:\n  output-dir: _output\n\ntoc: true\nnumber-sections: true\nbibliography: references.bib  \n  \nformat: #< default format inherited by other documents\n  html:\n    css: styles.css\n```\n\n## Quarto Projects\n\n-   Minimal project has at least 1x file and 1x `_quarto.yml`\n-   A project is a directory (and can have sub-directories)\n\n. . .\n\nA typical project is used to:\n\n-   Aggregate content (website/blog/book)\\\n-   Share metadata (YAML config) across multiple files\\\n-   Render an entire directory together or redirect output to another directory\\\n-   Freeze computation across a project or team\n\n. . .\n\n- [Our course website](https://github.com/info-3312/course-site-s23)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}