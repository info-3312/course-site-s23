{
  "hash": "227ab65c48f7b36408c4db1de104d607",
  "result": {
    "markdown": "---\ntitle: \"Deep dive: stats + scales + guides\"\nsubtitle: \"Lecture 5\"\ndate: \"February 7, 2023\"\nformat: revealjs\n---\n\n\n\n\n# Project \\#1\n\n## Project \\#1\n\n- [Project description](/project-1.html)\n- Team assignments on Thursday\n- Deliverables\n    - February 16 - proposals for peer review\n    - February 20 - revised proposals for instructor review\n    - March 3 - write-up and presentation\n\n# Setup\n\n## Packages + figures\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# load packages\nlibrary(tidyverse)\nlibrary(rcis)\n\n# set default theme for ggplot2\ntheme_set(theme_minimal(base_size = 14))\n```\n:::\n\n\n### YAML options\n\n```yaml\nknitr:\n  opts_chunk:\n    fig.width: 7\n    fig.asp: 0.618\n    fig.retina: 2\n    dpi: 150\n    out.width: \"80%\"\n```\n\n## `scorecard`\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-3_0471034b4c5ce9c192a40d565a39fa0d'}\n\n```{.r .cell-code}\nglimpse(scorecard)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 1,721\nColumns: 14\n$ unitid    <dbl> 100654, 100663, 100706, 100724, 100751, 100830, 100858, 1009…\n$ name      <chr> \"Alabama A & M University\", \"University of Alabama at Birmin…\n$ state     <chr> \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", …\n$ type      <fct> \"Public\", \"Public\", \"Public\", \"Public\", \"Public\", \"Public\", …\n$ admrate   <dbl> 0.8965, 0.8060, 0.7711, 0.9888, 0.8039, 0.9555, 0.8507, 0.60…\n$ satavg    <dbl> 959, 1245, 1300, 938, 1262, 1061, 1302, 1202, 1068, NA, 1101…\n$ cost      <dbl> 23445, 25542, 24861, 21892, 30016, 20225, 32196, 32514, 3483…\n$ netcost   <dbl> 15529, 16530, 17208, 19534, 20917, 13678, 24018, 19808, 2050…\n$ avgfacsal <dbl> 68391, 102420, 87273, 64746, 93141, 69561, 96498, 62649, 533…\n$ pctpell   <dbl> 0.7095, 0.3397, 0.2403, 0.7368, 0.1718, 0.4654, 0.1343, 0.22…\n$ comprate  <dbl> 0.2866, 0.6117, 0.5714, 0.3177, 0.7214, 0.3040, 0.7870, 0.70…\n$ firstgen  <dbl> 0.3658281, 0.3412237, 0.3101322, 0.3434343, 0.2257127, 0.381…\n$ debt      <dbl> 15250, 15085, 14000, 17500, 17671, 12000, 17500, 16000, 1425…\n$ locale    <fct> City, City, City, City, City, City, City, City, City, Suburb…\n```\n:::\n:::\n\n\n# Stats\n\n## Stats < > geoms {.smaller}\n\n- Statistical transformation (**stat**) transforms the data, typically by summarizing\n- Many of **ggplot2**’s stats are used behind the scenes to generate many important geoms\n\n|`stat`            | `geom`              |\n|------------------|-------------------|\n|`stat_bin()`      | `geom_bar()`, `geom_freqpoly()`, `geom_histogram()` |\n|`stat_bin2d()`    | `geom_bin2d()`    |\n|`stat_bindot()`   | `geom_dotplot()`  |\n|`stat_binhex()`   | `geom_hex()`      |\n|`stat_boxplot()`  | `geom_boxplot()`  |\n|`stat_contour()`  | `geom_contour()`  |\n|`stat_quantile()` | `geom_quantile()` |\n|`stat_smooth()`   | `geom_smooth()`   |\n|`stat_sum()`      | `geom_count()`    |\n\n## `stat_boxplot()`\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-4_c250f167767e880e43c2bb3048274e44'}\n::: {.cell-output-display}\n![](images/05/summary-stats.png){fig-align='center' fig-alt='Documentation for `stat_boxplot()`.' width=90%}\n:::\n:::\n\n\n## Layering with stats\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-5_a788fd1cfa2925f5502250de385f961b'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(scorecard, aes(x = type, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  stat_summary(geom = \"point\", fun = \"median\", color = \"red\", size = 5, pch = 4, stroke = 2)\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-5-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n## Alternate: layering with stats\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-6_94766c557f28b395368023e9234d0810'}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(scorecard, aes(x = type, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  geom_point(stat = \"summary\", fun = \"median\", color = \"red\", size = 5, pch = 4, stroke = 2)\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-6-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n## Statistical transformations\n\n::: appex\nWhat can you say about the distribution of average faculty salaries from the following QQ plot?\n:::\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-7_7b8558c0a0e2012fafddd50f9664035a'}\n\n```{.r .cell-code  code-line-numbers=\"2,3\"}\nggplot(scorecard, aes(sample = avgfacsal)) +\n  stat_qq() +\n  stat_qq_line() +\n  labs(y = \"avgfacsal\")\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-7-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n# Scales\n\n## What is a scale?\n\n- Each scale is a function from a region in data space (the domain of the scale) to a region in aesthetic space (the range of the scale)\n\n- The axis or legend is the inverse function: it allows you to convert visual properties back to data\n\n## Scale specification\n\nEvery aesthetic in your plot is associated with exactly one scale:\n\n::: {.panel-tabset}\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-8_7bb639bfce2820e5420e8312d7bacd1e'}\n\n```{.r .cell-code}\n# automatic scales\nggplot(scorecard, aes(x = pctpell, y = avgfacsal, color = type)) +\n  geom_point(alpha = 0.8)\n```\n\n```{.r .cell-code}\n# manual scales\nggplot(scorecard, aes(x = pctpell, y = avgfacsal, color = type)) +\n  geom_point(alpha = 0.8) +\n  scale_x_continuous() +\n  scale_y_continuous() +\n  scale_color_ordinal()\n```\n:::\n\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-9_d61630b0bfede99240261c777972a9c1'}\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-9-1.png){fig-align='center' width=60%}\n:::\n:::\n\n\n:::\n\n## Anatomy of a scale function\n\n::: large\n`scale_A_B()`\n:::\n\n- Always starts with `scale`\n- `A`: Name of the primary aesthetic (e.g., `color`, `shape`, `x`)\n- `B`: Name of the scale (e.g., `continuous`, `discrete`, `brewer`)\n\n## Guess the output\n\n::: appex\nWhat will the **x**-axis label of the following plot say?\n:::\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-10_7405a13eb64ee8f6a2d8e2dbed88f93a'}\n\n```{.r .cell-code}\nggplot(scorecard, aes(x = pctpell, y = avgfacsal, color = type)) +\n  geom_point(alpha = 0.8) +\n  scale_x_continuous(name = \"pctpell\") +\n  scale_x_continuous(name = \"Percent of students receiving a Pell grant\")\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_4ef7fa2d\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">01</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## \"Address\" messages\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-12_69cc90114e091386b0dc1c67d16c998f'}\n\n```{.r .cell-code}\nggplot(scorecard, aes(x = pctpell, y = avgfacsal, color = type)) +\n  geom_point(alpha = 0.8) +\n  scale_x_continuous(name = \"pctpell\") +\n  scale_x_continuous(name = \"Percent of students receiving a Pell grant\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nScale for x is already present.\nAdding another scale for x, which will replace the existing scale.\n```\n:::\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-12-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Guess the output\n\n::: appex\nWhat happens if you pair a discrete variable with a continuous scale? What happens if you pair a continuous variable with a discrete scale? Answer in the context of the following plots.\n:::\n\n::: {.panel-tabset}\n\n### Plots\n\n:::: columns\n\n::: column\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/incorrect-scale-continuous_663f73055130fccaff6e14bd97cfd07e'}\n\n```{.r .cell-code  code-line-numbers=\"4,9\"}\nggplot(\n  data = scorecard,\n  mapping = aes(\n    x = type,\n    y = avgfacsal\n  )\n) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous()\n```\n:::\n\n\n:::\n\n::: column\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/incorrect-scale-discrete_9f3ca6b99c5c32a2858bcaf2fa228310'}\n\n```{.r .cell-code  code-line-numbers=\"5,9\"}\nggplot(\n  data = scorecard,\n  mapping = aes(\n    x = type,\n    y = avgfacsal\n  )\n) +\n  geom_point(alpha = 0.5) +\n  scale_y_discrete()\n```\n:::\n\n\n:::\n\n::::\n\n### Results\n\n:::: columns\n\n::: column\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-15_2f94bc8b7b9ab49cea1d8884febd6b8c'}\n::: {.cell-output .cell-output-error}\n```\nError: Discrete value supplied to continuous scale\n```\n:::\n:::\n\n\n:::\n\n::: column\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-16_a63214f3f0938e3a617c230579a94564'}\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-16-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n:::\n\n::::\n\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_4d83c325\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## Transformations\n\nWhen working with continuous data, the default is to map linearly from the data space onto the aesthetic space, but this scale can be transformed\n\n::: {.panel-tabset}\n\n### Linear\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-18_f09c241bac898cb86f622b1a76d238ca'}\n\n```{.r .cell-code}\nggplot(\n  scorecard,\n  aes(x = pctpell, y = avgfacsal)\n) +\n  geom_point(alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-18-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n### Transformed\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-19_d0a53c670e07809d1e8cbf61e9d5ad61'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n  scorecard,\n  aes(x = pctpell, y = avgfacsal)\n) +\n  geom_point(alpha = 0.5) +\n  scale_y_continuous(trans = \"log10\")\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-19-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n:::\n\n## Continuous scale transformations {.smaller}\n\n| Name      | Function $f(x)$         | Inverse $f^{-1}(y)$\n|-----------|-------------------------|------------------------\n| asn       | $\\tanh^{-1}(x)$         | $\\tanh(y)$\n| exp       | $e ^ x$                 | $\\log(y)$\n| identity  | $x$                     | $y$\n| log       | $\\log(x)$               | $e ^ y$\n| log10     | $\\log_{10}(x)$          | $10 ^ y$\n| log2      | $\\log_2(x)$             | $2 ^ y$\n| logit     | $\\log(\\frac{x}{1 - x})$ | $\\frac{1}{1 + e(y)}$\n| pow10     | $10^x$                  | $\\log_{10}(y)$\n| probit    | $\\Phi(x)$               | $\\Phi^{-1}(y)$\n| reciprocal| $x^{-1}$                | $y^{-1}$\n| reverse   | $-x$                    | $-y$\n| sqrt      | $x^{1/2}$               | $y ^ 2$\n\n## Convenience functions for transformations\n\n:::: columns\n\n::: column\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-20_a37cd0eb242cce20045a306eeb5fd435'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n  scorecard,\n  aes(x = pctpell, y = avgfacsal)\n) +\n  geom_point(alpha = 0.5) +\n  scale_y_continuous(trans = \"log10\")\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-20-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n:::\n\n::: column\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-21_c7d832315205ede1734a99e9e61e4e97'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n  scorecard,\n  aes(x = pctpell, y = avgfacsal)\n) +\n  geom_point(alpha = 0.5) +\n  scale_y_log10()\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-21-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n:::\n\n::::\n\n## Scale transform vs. data transform\n\n::: appex\nHow are the following two plots different, how are they similar? What does this say about how scale transformations work.\n:::\n\n::: {.panel-tabset}\n\n### Plot A\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/data-transform_cafd0aa0776acfc221a75a7eeb0caa5a'}\n\n```{.r .cell-code}\nscorecard |>\n  mutate(avgfacsal_log10 = log(avgfacsal, base = 10)) |>\n  ggplot(aes(\n    x = pctpell,\n    y = avgfacsal_log10\n  )) +\n  geom_point(alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/data-transform-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n### Plot B\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/scale-transform_d608911b8e94f1faa50188260a7dc222'}\n\n```{.r .cell-code}\nggplot(\n  scorecard,\n  aes(x = pctpell, y = avgfacsal)\n) +\n  geom_point(alpha = 0.5) +\n  scale_y_log10()\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/scale-transform-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_c1d624a7\" data-update-every=\"1\" tabindex=\"0\" style=\"bottom:0;left:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">02</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n# Guides\n\n## What is a guide?\n\nGuides are legends and axes:\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-25_fbb54b8483f80f7c8289ca20bc8f3c52'}\n::: {.cell-output-display}\n![](images/05/scale-guides.png){fig-align='center' fig-alt='Common components of axes and legends' width=80%}\n:::\n:::\n\n\n::: footnote\nSource: ggplot2: Elegant Graphics for Data Analysis, [Chp 15](https://ggplot2-book.org/scales-guides.html).\n:::\n\n## Customizing axes\n\n\n::: {.cell layout-align=\"center\" hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-26_40b462bab0cbd33673f8f80c35ce4881'}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\nggplot(scorecard, aes(x = netcost, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous(\n    name = \"Net cost of attendance\"\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-26-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n## Customizing axes\n\n::: appex\nWhy does 60000 not appear on the x-axis?\n:::\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-27_6b6a6e66edfcd4f9193596f029774e99'}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\nggplot(scorecard, aes(x = netcost, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous(\n    name = \"Net cost of attendance\",\n    breaks = seq(from = 0, to = 60000, by = 10000)\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-27-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Customizing axes\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-28_7d55c461b47f983c062bda79bca4f358'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(scorecard, aes(x = netcost, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous(\n    name = \"Net cost of attendance\",\n    breaks = seq(from = 0, to = 60000, by = 10000),\n    limits = c(0, 60000)\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-28-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Customizing axes\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-29_f74ca165acca672a8a41d57c598a1b75'}\n\n```{.r .cell-code  code-line-numbers=\"7\"}\nggplot(scorecard, aes(x = netcost, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous(\n    name = \"Net cost of attendance\",\n    breaks = seq(from = 0, to = 60000, by = 10000),\n    limits = c(0, 60000),\n    labels = c(\"$0\", \"$10,000\", \"$20,000\", \"$30,000\", \"$40,000\", \"$50,000\", \"$60,000\")\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-29-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Customizing axes\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-30_8704e91a810fb92148025ec49e00d58e'}\n\n```{.r .cell-code  code-line-numbers=\"1,9\"}\nlibrary(scales)\n\nggplot(scorecard, aes(x = netcost, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous(\n    name = \"Net cost of attendance\",\n    breaks = seq(from = 0, to = 60000, by = 10000),\n    limits = c(0, 60000),\n    labels = label_dollar()\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-30-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Customizing axes\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-31_2a3d1643eb9c566c52eaa5a5a881431c'}\n\n```{.r .cell-code  code-line-numbers=\"7\"}\nggplot(scorecard, aes(x = netcost, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous(\n    name = \"Net cost of attendance\",\n    breaks = seq(from = 0, to = 60000, by = 10000),\n    limits = c(0, 60000),\n    labels = label_dollar(scale_cut = cut_short_scale())\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-31-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Customizing axes\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-32_c77a5a88de3978dd27dcb3e4a0437c18'}\n\n```{.r .cell-code  code-line-numbers=\"9-12\"}\nggplot(scorecard, aes(x = netcost, y = avgfacsal)) +\n  geom_point(alpha = 0.5) +\n  scale_x_continuous(\n    name = \"Net cost of attendance\",\n    breaks = seq(from = 0, to = 60000, by = 10000),\n    limits = c(0, 60000),\n    labels = label_dollar(scale_cut = cut_short_scale())\n  ) +\n  scale_y_continuous(\n    name = \"Average faculty salary (USD)\",\n    labels = label_dollar(scale_cut = cut_short_scale())\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-32-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Aside: storing a plot\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-33_b9f7beaf4506b0de87e498262441b14e'}\n\n```{.r .cell-code}\nset.seed(123)\n\np_pctpell_avgfacsal_type <- ggplot(\n  scorecard,\n  aes(x = pctpell, y = avgfacsal)\n) +\n  geom_jitter(\n    aes(\n      color = type,\n      shape = type\n    ),\n    size = 2\n  )\np_pctpell_avgfacsal_type\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-33-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Customizing axis and legend labels with `scale_*()`\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-34_c24c06bc557cfb49a497933d2e7d4b29'}\n\n```{.r .cell-code  code-line-numbers=\"2-5\"}\np_pctpell_avgfacsal_type +\n  scale_x_continuous(name = \"Percent of students receiving a Pell grant\") +\n  scale_y_continuous(name = \"Average faculty salary (USD)\") +\n  scale_color_discrete(name = \"College type\") +\n  scale_shape_discrete(name = \"College type\")\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-34-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Customizing axis and legend labels with `labs()`\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-35_607af9d1e8524bbac3ea4df19c1a75c9'}\n\n```{.r .cell-code  code-line-numbers=\"2-7\"}\np_pctpell_avgfacsal_type +\n  labs(\n    x = \"Percent of students receiving a Pell grant\",\n    y = \"Average faculty salary (USD)\",\n    color = \"College type\",\n    shape = \"College type\"\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-35-1.png){fig-align='center' width=100%}\n:::\n:::\n\n\n## Splitting legend labels\n\n\n::: {.cell layout-align=\"center\" output-location='column' hash='05-stats-scales-guides_cache/revealjs/unnamed-chunk-36_71d3f6aafc1db45d2c3b3715f0ba580d'}\n\n```{.r .cell-code}\np_pctpell_avgfacsal_type +\n  labs(\n    x = \"Percent of students receiving a Pell grant\",\n    y = \"Average faculty salary (USD)\",\n    color = \"College type\"\n  )\n```\n\n::: {.cell-output-display}\n![](05-stats-scales-guides_files/figure-revealjs/unnamed-chunk-36-1.png){fig-align='center' width=100%}\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}