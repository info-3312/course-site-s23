{
  "hash": "757e36a43129612adcefd5451c7d0a08",
  "result": {
    "markdown": "---\ntitle: \"Look at data\"\nsubtitle: \"Lecture 3\"\ndate: \"January 31, 2023\"\nformat: revealjs\n---\n\n\n\n\n# A/B testing\n\n## Data: College education costs\n\n:::: columns\n\n::: {.column width=\"50%\"}\n\n- Data on four year colleges and universities in the United States (2020-21)\n\n- Extracted from College Scorecard API\n\n- Source: `rcis::scorecard`\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n{{< tweet ColIegeStudent 829377468595306500 >}}\n\n\n\n:::\n\n::::\n\n## `rcis::scorecard`\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-2_e947ae26615cea300e57a60796a03bea'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n# remotes::install_github(\"cis-ds/rcis\")\nlibrary(rcis)\n\nglimpse(scorecard)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 1,721\nColumns: 14\n$ unitid    <dbl> 100654, 100663, 100706, 100724, 100751, 100830, 100858, 1009…\n$ name      <chr> \"Alabama A & M University\", \"University of Alabama at Birmin…\n$ state     <chr> \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", …\n$ type      <fct> \"Public\", \"Public\", \"Public\", \"Public\", \"Public\", \"Public\", …\n$ admrate   <dbl> 0.8965, 0.8060, 0.7711, 0.9888, 0.8039, 0.9555, 0.8507, 0.60…\n$ satavg    <dbl> 959, 1245, 1300, 938, 1262, 1061, 1302, 1202, 1068, NA, 1101…\n$ cost      <dbl> 23445, 25542, 24861, 21892, 30016, 20225, 32196, 32514, 3483…\n$ netcost   <dbl> 15529, 16530, 17208, 19534, 20917, 13678, 24018, 19808, 2050…\n$ avgfacsal <dbl> 68391, 102420, 87273, 64746, 93141, 69561, 96498, 62649, 533…\n$ pctpell   <dbl> 0.7095, 0.3397, 0.2403, 0.7368, 0.1718, 0.4654, 0.1343, 0.22…\n$ comprate  <dbl> 0.2866, 0.6117, 0.5714, 0.3177, 0.7214, 0.3040, 0.7870, 0.70…\n$ firstgen  <dbl> 0.3658281, 0.3412237, 0.3101322, 0.3434343, 0.2257127, 0.381…\n$ debt      <dbl> 15250, 15085, 14000, 17500, 17671, 12000, 17500, 16000, 1425…\n$ locale    <fct> City, City, City, City, City, City, City, City, City, Suburb…\n```\n:::\n:::\n\n\n## A simple visualization\n\n::: {.panel-tabset}\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/simple-viz_bf6891e5812fe8387b8fc3d68158dadd'}\n\n```{.r .cell-code}\nggplot(scorecard, aes(x = avgfacsal, y = netcost)) +\n  geom_point(alpha = 0.5, size = 2) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.7) +\n  labs(\n    x = \"Average faculty salary (USD)\",\n    y = \"Net cost of attendance (USD)\",\n    title = \"Faculty salaries and net cost of attendance in US universities\"\n  )\n```\n:::\n\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-4_8ccd8ee4a97a9d30dc3248784d6a3936'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-4-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n:::\n\n## New variable: `pctpell_cat`\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-5_90821c1a782ca1205b69c36a3a6fb272'}\n\n```{.r .cell-code}\nscorecard <- scorecard |>\n  mutate(pctpell_cat = cut_interval(x = pctpell, n = 6)) |>\n  drop_na(pctpell_cat)\n\nscorecard |>\n  select(pctpell, pctpell_cat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,717 × 2\n   pctpell pctpell_cat  \n     <dbl> <fct>        \n 1   0.710 (0.667,0.833]\n 2   0.340 (0.333,0.5]  \n 3   0.240 (0.167,0.333]\n 4   0.737 (0.667,0.833]\n 5   0.172 (0.167,0.333]\n 6   0.465 (0.333,0.5]  \n 7   0.134 [0,0.167]    \n 8   0.226 (0.167,0.333]\n 9   0.501 (0.5,0.667]  \n10   0.697 (0.667,0.833]\n# … with 1,707 more rows\n```\n:::\n:::\n\n\n## Distribution of `pctpell_cat`\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-6_4fdbb7fd02c689a1161eb2c13ac903b4'}\n\n```{.r .cell-code}\nscorecard <- scorecard |>\n  mutate(pctpell_cat = cut_interval(x = pctpell, n = 6)) |>\n  drop_na(pctpell_cat)\n\nscorecard |>\n  count(pctpell_cat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  pctpell_cat       n\n  <fct>         <int>\n1 [0,0.167]       169\n2 (0.167,0.333]   630\n3 (0.333,0.5]     609\n4 (0.5,0.667]     205\n5 (0.667,0.833]    73\n6 (0.833,1]        31\n```\n:::\n:::\n\n\n## A slightly more complex visualization\n\n::: {.panel-tabset}\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/slight-complex-viz_453586a3b1b6523692f71f600ab4c25b'}\n\n```{.r .cell-code}\nggplot(scorecard, aes(x = avgfacsal, y = netcost, color = pctpell_cat)) +\n  geom_point(alpha = 0.5, show.legend = FALSE) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.5, show.legend = FALSE) +\n  facet_wrap(vars(pctpell_cat)) +\n  labs(\n    x = \"Average faculty salary (USD)\",\n    y = \"Net cost of attendance (USD)\",\n    color = \"Percentage of Pell grant recipients\",\n    title = \"Faculty salaries and net cost of attendance in US universities\"\n  )\n```\n:::\n\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-8_d24d8eace49ed56294049f7da7a698ff'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-8-1.png){fig-align='center' width=80%}\n:::\n:::\n\n\n:::\n\n---\n\n::: {.appex .center}\n\nIn the next two slides, the same plots are created with different \"cosmetic\" choices. Examine the plots two given (Plot A and Plot B), and decide which one you prefer.\n\n:::\n\n## Test 1\n\n::: {.panel-tabset}\n\n### Plot A\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/test-1-a_59f367db7eb7b17089c095285804bbf7'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/test-1-a-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n### Plot B\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/test-1-b_ad4e5f313e09ee0db1673ff1df26dc9a'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/test-1-b-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n:::\n\n## Test 2\n\n::: {.panel-tabset}\n\n### Plot A\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-11_0cfd005e4b35f6bd5c6b23e1f8f9e408'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-11-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n### Plot B\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/test-2-b_4c56829aad2dad8f8c636135fdc26019'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/test-2-b-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n:::\n\n---\n\n::: {.appex .center}\na deeper look at the plotting code...\n:::\n\n---\n\n## Minimal theme + viridis scale, default option\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-13_ed1441b7690829839355d8ce9bc739ce'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-13-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-14_eaa5958819a5ec84707430426f7b2bab'}\n\n```{.r .cell-code  code-line-numbers=\"11-12\"}\nggplot(scorecard, aes(x = avgfacsal, y = netcost, color = pctpell_cat)) +\n  geom_point(alpha = 0.5, show.legend = FALSE) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.5, show.legend = FALSE) +\n  facet_wrap(vars(pctpell_cat)) +\n  labs(\n    x = \"Average faculty salary (USD)\",\n    y = \"Net cost of attendance (USD)\",\n    color = \"Percentage of Pell grant recipients\",\n    title = \"Faculty salaries and net cost of attendance in US universities\"\n  ) +\n  theme_minimal(base_size = 16) +\n  scale_color_viridis_d(end = 0.9)\n```\n:::\n\n\n:::\n\n## Viridis scale, option A (magma)\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-15_1e3f1190352cc864546547c8cf929a56'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-15-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-16_c73b3c0051c0c58b706f8fd35c0ddccf'}\n\n```{.r .cell-code  code-line-numbers=\"12\"}\nggplot(scorecard, aes(x = avgfacsal, y = netcost, color = pctpell_cat)) +\n  geom_point(alpha = 0.5, show.legend = FALSE) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.5, show.legend = FALSE) +\n  facet_wrap(vars(pctpell_cat)) +\n  labs(\n    x = \"Average faculty salary (USD)\",\n    y = \"Net cost of attendance (USD)\",\n    color = \"Percentage of Pell grant recipients\",\n    title = \"Faculty salaries and net cost of attendance in US universities\"\n  ) +\n  theme_minimal(base_size = 16) +\n  scale_color_viridis_d(end = 0.8, option = \"A\")\n```\n:::\n\n\n:::\n\n## Dark theme + further theme customization\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-17_2a4013edf21a0a17d6a85c869bdf5950'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-17-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-18_d89ed7c06c397cb3cbfe38c3c925d997'}\n\n```{.r .cell-code  code-line-numbers=\"11-16\"}\nggplot(scorecard, aes(x = avgfacsal, y = netcost, color = pctpell_cat)) +\n  geom_point(alpha = 0.5, show.legend = FALSE) +\n  geom_smooth(method = \"lm\", se = FALSE, size = 0.5, show.legend = FALSE) +\n  facet_wrap(vars(pctpell_cat)) +\n  labs(\n    x = \"Average faculty salary (USD)\",\n    y = \"Net cost of attendance (USD)\",\n    color = \"Percentage of Pell grant recipients\",\n    title = \"Faculty salaries and net cost of attendance in US universities\"\n  ) +\n  theme_dark(base_size = 16) +\n  scale_color_manual(values = c(\"yellow\", \"blue\", \"orange\", \"red\", \"green\", \"white\")) +\n  theme(\n    text = element_text(color = \"red\", face = \"bold.italic\"),\n    plot.background = element_rect(fill = \"yellow\")\n  )\n```\n:::\n\n\n:::\n\n# What makes bad figures bad?\n\n## Bad taste\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-19_7d6a6286215676d991fd501b4e6249fc'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-19-1.png){fig-align='center' width=90%}\n:::\n:::\n\n\n## Data-to-ink ratio\n\n:::: columns\n\n::: {.column width=\"67%\"}\nTufte strongly recommends maximizing the **data-to-ink ratio** this in the Visual Display of Quantitative Information (Tufte, 1983).\n\n> Graphical excellence is the well-designed presentation of interesting data—a matter of substance, of statistics, and of design … [It] consists of complex ideas communicated with clarity, precision, and efficiency. … [It] is that which gives to the viewer the greatest number of ideas in the shortest time with the least ink in the smallest space … [It] is nearly always multivariate … And graphical excellence requires telling the truth about the data. (Tufte, 1983, p. 51).\n\n:::\n\n::: {.column width=\"33%\"}\n\n\n::: {.cell layout-align=\"right\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-20_639fd08acc85e6676fe7647a6d0f1c10'}\n::: {.cell-output-display}\n![](images/03/tufte-visual-display-cover.png){fig-align='right' fig-alt='Cover of Visual Display of Quantitative Information, Tufte (1983).' width=100%}\n:::\n:::\n\n\n:::\n\n::::\n\n---\n\n::: {.appex}\n\nWhich of the plots has higher data-to-ink ratio?\n\n:::\n\n\n\n\n\n::: {.panel-tabset}\n\n### Plot A\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/mean-netcost-pctpell-a_80729840ce5fa456b47cfa39628e7dcf'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/mean-netcost-pctpell-a-1.png){fig-align='center' width=70%}\n:::\n:::\n\n]\n\n### Plot B\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/mean-netcost-pctpell-b_60dfcd963894186e4ffaf5480e6cde07'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/mean-netcost-pctpell-b-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n:::\n\n---\n\n::: {.appex .center}\na deeper look at the plotting code...\n:::\n\n## Summary statistics\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-24_51a8ae372d3f92911c3c2660cb79a678'}\n\n```{.r .cell-code}\nmean_netcost_pctpell <- scorecard |>\n  group_by(pctpell_cat) |>\n  summarise(mean_netcost = mean(netcost, na.rm = TRUE))\n\nmean_netcost_pctpell\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  pctpell_cat   mean_netcost\n  <fct>                <dbl>\n1 [0,0.167]           29919.\n2 (0.167,0.333]       22579.\n3 (0.333,0.5]         19171.\n4 (0.5,0.667]         16966.\n5 (0.667,0.833]       15572.\n6 (0.833,1]           10138.\n```\n:::\n:::\n\n\n## Barplot\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-25_0c38648d87c704e036240ade4585af63'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-25-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-26_c83d92b011de5def2ce2fe5fe830b919'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(mean_netcost_pctpell, aes(y = pctpell_cat, x = mean_netcost)) +\n  geom_col() +\n  labs(\n    x = \"Mean net cost of attendance\", y = \"Pell grant recipients\",\n    title = \"Mean net cost of attendance, by Pell grant recipients\"\n  ) +\n  theme_minimal(base_size = 16)\n```\n:::\n\n\n:::\n\n## Scatterplot\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-27_19d01a23c57af112d3707d264ec3882b'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/unnamed-chunk-27-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-28_aa2934f262dd59e3158549ef2cd94e00'}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(mean_netcost_pctpell, aes(y = pctpell_cat, x = mean_netcost)) +\n  geom_point(size = 4) +\n  labs(\n    x = \"Mean net cost of attendance\", y = \"Pell grant recipients\",\n    title = \"Mean net cost of attendance, by Pell grant recipients\"\n  ) +\n  theme_minimal(base_size = 16)\n```\n:::\n\n\n:::\n\n## Lollipop plot -- a happy medium?\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/mean-netcost-pctpell-lollipop_5dc68da53b82f2c263837676bb6af9bf'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/mean-netcost-pctpell-lollipop-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-30_4d38c05e69e27b70dba176da72b7bf9f'}\n\n```{.r .cell-code  code-line-numbers=\"3-8\"}\nggplot(mean_netcost_pctpell, aes(y = pctpell_cat, x = mean_netcost)) +\n  geom_point(size = 4) +\n  geom_segment(\n    aes(\n      x = 0, xend = mean_netcost,\n      y = pctpell_cat, yend = pctpell_cat\n    )\n  ) +\n  labs(\n    x = \"Mean net cost of attendance\", y = \"Pell grant recipients\",\n    title = \"Mean net cost of attendance, by Pell grant recipients\"\n  ) +\n  theme_minimal(base_size = 16)\n```\n:::\n\n\n:::\n\n## Activity: Napoleon’s retreat\n\n:::: columns\n\n::: {.column width=\"70%\"}\n\n::: {.appex .small}\n\nThis is Minard’s visualization of Napoleon’s retreat. Discuss in a pair (or group) the features of the following visualization. What are the variables plotted? Which aesthetics are they mapped to?\n\n:::\n\n:::\n\n::: {.column width=\"30%\"}\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_c916f028\" data-update-every=\"1\" tabindex=\"0\" style=\"top:0;right:0;font-size:5vw;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n:::\n\n::::\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-32_f552d99a151308ac0ef5d238e8c541af'}\n::: {.cell-output-display}\n![](images/03/minard.jpg){fig-align='center' fig-alt='Minard’s visualization of Napoleon’s retreat' width=83%}\n:::\n:::\n\n\n::: aside\nSource: [Wikipedia](https://en.wikipedia.org/wiki/Charles_Joseph_Minard#/media/File:Minard.png)]\n:::\n\n\n## Bad data\n\n::: {.panel-tabset}\n\n### Original\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-33_5ffcaf1d9532b187d8d933e2c63d661b'}\n::: {.cell-output-display}\n![](images/03/healy-democracy-nyt-version.png){fig-align='center' fig-alt='A crisis of faith in democracy? New York Times.' width=50%}\n:::\n:::\n\n\n### Improved\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-34_84c5ac6ceba9676538c06115bcc76b12'}\n::: {.cell-output-display}\n![](images/03/healy-democracy-voeten-version-2.png){fig-align='center' fig-alt='A crisis of faith in democracy? New York Times.' width=50%}\n:::\n:::\n\n\n:::\n\n::: aside\nHealy, Data Visualization: A practical introduction. [Chapter 1](https://socviz.co/lookatdata.html). Figures 1.8 and 1.9.\n:::\n\n## Bad perception\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-35_7616a40e2a15fee487fe131f3864d9f1'}\n::: {.cell-output-display}\n![](images/03/healy-perception-curves.png){fig-align='center' fig-alt='Aspect ratios affect our perception of rates of change, modeled after an example by William S. Cleveland.' width=80%}\n:::\n:::\n\n\n::: aside\nHealy, Data Visualization: A practical introduction. [Chapter 1](https://socviz.co/lookatdata.html). Figure 1.12.\n:::\n\n# Aesthetic mappings in ggplot2\n\n## A second look: lollipop plot\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/mean-netcost-pctpell-lollipop-layer_fe261f4dac520f540015d056a0e7a690'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/mean-netcost-pctpell-lollipop-layer-1.png){fig-align='center' width=70%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-37_c31ac8fa6ee755cdc2bad17761b14034'}\n\n```{.r .cell-code}\nggplot(mean_netcost_pctpell, aes(y = pctpell_cat, x = mean_netcost)) +\n  geom_point(size = 4) +\n  geom_segment(\n    aes(\n      x = 0, xend = mean_netcost,\n      y = pctpell_cat, yend = pctpell_cat\n    )\n  ) +\n  labs(\n    x = \"Mean net cost of attendance\", y = \"Pell grant recipients\",\n    title = \"Mean net cost of attendance, by Pell grant recipients\"\n  ) +\n  theme_minimal(base_size = 16)\n```\n:::\n\n\n:::\n\n## Activity: Spot the difference I\n\n::: appex\nCan you spot the differences between the code here and the one provided in the previous slide? Are there any differences in the resulting plot? Work in a pair (or group) to answer.\n:::\n\n::: {.panel-tabset}\n\n### Plot\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/mean-netcost-pctpell-lollipop-global_d45999adf9d5e6557f8581a3d59803fe'}\n::: {.cell-output-display}\n![](03-look-at-data_files/figure-revealjs/mean-netcost-pctpell-lollipop-global-1.png){fig-align='center' width=50%}\n:::\n:::\n\n\n### Code\n\n\n::: {.cell layout-align=\"center\" hash='03-look-at-data_cache/revealjs/unnamed-chunk-39_b73c20eaf6e29f85781d0a8631f3acd8'}\n\n```{.r .cell-code  code-line-numbers=\"|1,4,5\"}\nggplot(mean_netcost_pctpell, aes(y = pctpell_cat, x = mean_netcost)) +\n  geom_point(size = 4) +\n  geom_segment(aes(\n    xend = 0,\n    yend = pctpell_cat\n  )) +\n  labs(\n    x = \"Mean net cost of attendance\", y = \"Pell grant recipients\",\n    title = \"Mean net cost of attendance, by Pell grant recipients\"\n  ) +\n  theme_minimal(base_size = 16)\n```\n:::\n\n\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_d6597094\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## Global vs. layer-specific aesthetics\n\n- Aesthetic mappings can be supplied in the initial `ggplot()` call, in individual layers, or in some combination of both.\n\n- Within each layer, you can add, override, or remove mappings.\n\n- If you only have one layer in the plot, the way you specify aesthetics doesn’t make any difference. However, the distinction is important when you start adding additional layers.\n\n---\n\n## Wrap up\n\n::: {.appex .center}\nThink back to all the plots you saw in the lecture, without flipping back through the slides. Which plot first comes to mind? Describe it in words.\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}